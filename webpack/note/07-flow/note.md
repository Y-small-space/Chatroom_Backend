# webpack 编译流程

1. 初始化参数
Webpack会从配置文件（通常是webpack.config.js）和命令行参数中获取配置信息，并合并生成最终的配置对象。这个过程使用webpack-cli工具，用户可以在命令行中传递参数或在配置文件中定义。

2. 初始化 Compiler 对象
在这一步中，Webpack会创建一个Compiler对象，该对象包含了整个Webpack的生命周期，以及许多核心插件和事件钩子。Compiler对象负责管理整个编译过程。

3. 加载插件
Webpack会加载所有配置中指定的插件，这些插件在整个编译过程中执行各种任务，如代码压缩、文件拷贝、生成HTML文件等。插件通过在Compiler对象上挂载钩子函数来实现对不同阶段的干预。

4. 执行编译（run）
通过调用Compiler对象的run方法，Webpack开始执行整个编译过程。在这一步，Webpack会读取入口文件（entry）并开始递归地构建依赖关系。

5. 解析入口文件
根据配置文件中指定的入口（entry），Webpack找到入口文件，并开始解析该文件的内容。解析过程包括识别模块化语法、加载模块等。

6. 调用 Loader
Webpack通过配置中的Loader对模块进行编译。Loader是用于处理不同文件类型的转换器，例如将ES6转换为ES5，将Sass转换为CSS等。Loader可以串联使用，按照配置的顺序依次执行。

7. 递归处理依赖
对于每个模块，Webpack会递归地处理其依赖模块，确保所有相关的模块都被加载和处理。这个过程构建了整个模块依赖图。

8. 构建 Chunk
基于入口文件和模块之间的依赖关系，Webpack将模块组装成一个或多个Chunk。一个Chunk是由多个模块组成的一个代码块。

9. 输出文件
Webpack根据配置中的输出路径和文件名，将每个Chunk转换成一个独立的文件，并将这些文件输出到文件系统中。这是通过调用配置中指定的输出插件实现的。

10. 完成编译
最后，Webpack完成整个编译过程，触发相应的钩子，例如emit钩子，以便插件有机会执行一些额外的任务。整个流程完成后，Webpack会输出编译的结果，用户可以在输出目录中找到生成的文件。

这个流程展示了Webpack是如何从源代码到最终产物的整
